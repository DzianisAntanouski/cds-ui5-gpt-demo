sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("chatui.controller.Chat",{onInit:function(){this.showFeedInput(false)},showFeedInput:function(e){const t=this.byId("feedInput");t.setVisible(e)},onPressGoToMaster:function(e){const t=e.getSource().getBindingContext();const s=this.byId("chats");s.setBindingContext(t);this.showFeedInput(true)},onPost:function(e){this.byId("chats").setBusy(true);const t=e.getSource().getBindingContext().getObject().ID;const s=this.getView().getModel();s.callFunction("/sendMessage",{method:"GET",urlParameters:{sMessage:e.getParameters().value,nSessionId:t},success:function(e,t){if(e.sendMessage==="OK"){this.getView().getModel().refresh();this.byId("chats").setBusy(false)}else{this.getView().getModel().refresh();this.byId("chats").setBusy(false);alert("GhatGPT API error")}}.bind(this),error:e=>{console.error(e)}})},onPressClear:function(e){const t=e.getSource().getBindingContext().getObject().ID;const s=this.getView().getModel();s.callFunction("/clearSession",{method:"GET",urlParameters:{nSessionId:t},success:function(e,t){this.getView().getModel().refresh();alert(e.clearSession)}.bind(this),error:e=>{console.error(e);alert("Error")}})}})});